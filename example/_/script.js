(async()=>{HTMLElement.prototype.on=function(...e){return this.addEventListener(...e)};const e=(()=>{const e=n=>{let o={_:n};for(const[t,c]of[..."TEMPLATE"===n.nodeName?(n.remove(),n.content.childNodes):n.childNodes].entries())o[t]=e(c);return o},n=e(document.documentElement),o=e=>e.reduce((e,n)=>e?.[n],n);return(...e)=>e.length?o(e)?._:(...e)=>o(e)})(),n=n=>{let o=n,t=[],c=[];const s=()=>{for(const[n,o]of t){const t=e(...n);"#comment"===t?.nodeName||t&&(t.textContent=o())}for(const[n,o,t,s]of c){const c=[...e(...n).childNodes].slice(...t());for(const e of c)e.remove();const r=new DocumentFragment;o(function*(){for(;;)yield e=>{const n=s.cloneNode(!0);e?.((e,...o)=>{o.reduce((e,n)=>e?.childNodes?.[n],n).textContent=e}),r.append(n)}}());const d=e(...n).childNodes[t()[1]];d.parentNode.insertBefore(r,d)}};return{$:(e,...n)=>e?(t.push([n,e]),[e,...n]):s(),$$(n,o,t,s,...r){const d=e()(...r);d[3]={_:"asdf"},console.log(e(1,3));const l=()=>[o,o+s+1].map((e,n)=>{return[...(o=d[e]._).parentNode.childNodes].indexOf(o)+1-n;var o});e(...r,o).data=s;const i=new DocumentFragment;return i.append(...[...e(...r).childNodes].slice(...l()).slice(0,t).map(e=>e.cloneNode(!0))),c.push([r,n,l,i]),[n,o,t,s,...r]},get _(){return o},set _(e){o=e,s()}}};{let o=n(5),t=n(0);o.$(()=>o._,1,0,2),e(1,0).on("click",()=>{o._++}),o.$(()=>o._,1,1,2),e(1,1).on("click",()=>{o._--}),t.$(()=>t._,1,2,2),e(1,2).on("click",()=>{t._++}),t.$(()=>t._,1,3,2),e(1,3).on("click",()=>{t._--}),o.$(()=>o._,1,4,2),t.$(()=>t._,1,4,6),o.$(...t.$(()=>o._*t._,1,4,10)),o.$$(...t.$$(e=>{o._>t._&&e.next().value()},5,1,1,1)),o.$$(...t.$$(e=>{for(let n=2;n<o._+t._;n++)e.next().value(e=>{e(n,0,2)})},8,1,5,1)),o.$(),t.$()}})();
//# sourceMappingURL=./script.js.map