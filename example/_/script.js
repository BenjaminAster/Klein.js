(async()=>{HTMLElement.prototype.on=function(...e){return this.addEventListener(...e)};const e=(()=>{const e=n=>{let t={_:n};for(const[o,c]of[..."TEMPLATE"===n.nodeName?(n.remove(),n.content.childNodes):n.childNodes].entries())t[o]=e(c);return t},n=e(document.documentElement);return(...e)=>e.reduce((e,n)=>e?.[n],n)?._})(),n=n=>{let t=n,o=[],c=[];const r=e=>[...e.parentNode.childNodes].indexOf(e),l=()=>{for(const[n,t,o,l,s]of c){for(const t of[...e(...n).childNodes].slice(r(e(...n,o))+1,r(e(...n,s))))t.remove();const c=new DocumentFragment;t(function*(){let e=0;for(;;){const n=l.cloneNode(!0);c.append(n),yield e++}}()),e(...n).insertBefore(c,e(...n,s))}for(const[n,t]of o){const o=e(...n);o&&(o.textContent=t())}};return{$(n,t,r,s,d){if(n)if(r){let o=new DocumentFragment;s>0?o.append(...[...e(...n).childNodes].slice(r+1,r+1+s).map(e=>e.cloneNode(!0))):(o=e(...n,r+1).content.cloneNode(!0),d=1),c.push([n,t,r,o,r+1+(d??s)])}else o.push([n,t]);else l();return[n,t,r,s,d]},get _(){return t},set _(e){t=e,l()}}};{let t=n(5),o=n(0);t.$([1,0,2],()=>t._),e(1,0).on("click",()=>{t._++}),t.$([1,1,2],()=>t._),e(1,1).on("click",()=>{t._--}),o.$([1,2,2],()=>o._),e(1,2).on("click",()=>{o._++}),o.$([1,3,2],()=>o._),e(1,3).on("click",()=>{o._--}),t.$([1,4,2],()=>t._),o.$([1,4,6],()=>o._),t.$(...o.$([1,4,10],()=>t._*o._)),t.$(...o.$([1],e=>{t._>o._&&e.next().value},5,1)),o.$([1],e=>{for(let n=2;n<o._+10;n++)e.next().value},8,1,5),t.$([1],e=>{t._>10&&e.next().value},16,0),t.$(),o.$()}})();
//# sourceMappingURL=./script.js.map