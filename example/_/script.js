(async()=>{HTMLElement.prototype.on=function(...e){return this.addEventListener(...e)};const e=(()=>{const e=o=>{let n={_:o};for(const[t,c]of[..."TEMPLATE"===o.nodeName?(o.remove(),o.content.childNodes):o.childNodes].entries())n[t]=e(c);return n},o=e(document.documentElement);return(...e)=>e.reduce((e,o)=>e?.[o],o)?._})(),o=o=>{let n=o,t=[],c=[];const l=e=>[...e.parentNode.childNodes].indexOf(e),s=()=>{for(const[o,n,t,s,r]of c){for(const n of[...e(...o).childNodes].slice(l(e(...o,t))+1,l(e(...o,r))))n.remove();const c=new DocumentFragment;n(function*(){let e=0;for(;;){const o=s.cloneNode(!0);console.log(o),c.append(o),yield e++}}()),e(...o).insertBefore(c,e(...o,r))}for(const[o,n]of t){const t=e(...o);t&&(t.textContent=n())}};return{$(o,n,l,r,d){if(o)if(l){let t=new DocumentFragment;t.append(...[...e(...o).childNodes].slice(l+1,l+1+r).map(e=>e.cloneNode(!0))),c.push([o,n,l,t,l+1+(d||r)])}else t.push([o,n]);else s();return[o,n,l,r,d]},get _(){return n},set _(e){n=e,s()}}};{let n=o(5),t=o(0);n.$([1,0,2],()=>n._),e(1,0).on("click",()=>{n._++}),n.$([1,1,2],()=>n._),e(1,1).on("click",()=>{n._--}),t.$([1,2,2],()=>t._),e(1,2).on("click",()=>{t._++}),t.$([1,3,2],()=>t._),e(1,3).on("click",()=>{t._--}),n.$([1,4,2],()=>n._),t.$([1,4,6],()=>t._),n.$(...t.$([1,4,10],()=>n._*t._)),n.$(...t.$([1],e=>{n._>t._&&(console.log("count > secondCount"),e.next().value,console.log("count > secondCount (after .next().value)"))},5,1)),t.$([1],e=>{for(let o=2;o<t._+10;o++)e.next().value},8,1,5),n.$(),t.$()}})();
//# sourceMappingURL=./script.js.map